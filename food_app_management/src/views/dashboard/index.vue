<template >
  <div style="background: #F0F0F0	" class="dashboard-container">
    <!-- githubè§’æ ‡ -->


    <el-card shadow="never">
      <el-row justify="space-between">
        <el-col :span="18" :xs="24">
          <div class="flex h-full items-center">
            <img
              class="w-20 h-20 mr-5 rounded-full"
              src="../../assets/images/little-red-hoodå°çº¢å¸½.png"
			  style="width: 50px;height: 50px;"
            />
            <div style="margin-left: -50px;">
              <p>å·å·å‘é“¶æ²³è¦äº†ä¸€æŠŠç¢æ˜Ÿï¼Œåªç­‰ä½ é—­ä¸Šçœ¼ç›æ’’å…¥ä½ çš„æ¢¦ä¸­ï¼Œæ™šå®‰ğŸŒ›ï¼</p>
              <p class="text-sm text-gray">
                ä»Šæ—¥å¤©æ°”æ™´æœ—ï¼Œæ°”æ¸©åœ¨15â„ƒè‡³25â„ƒä¹‹é—´ï¼Œä¸œå—é£ã€‚
              </p>
            </div>
          </div>
        </el-col>

        <el-col :span="6" :xs="24">
          <div class="flex h-full items-center justify-around">
            <el-statistic :value="99">
              <template #title>
                <div class="flex items-center ">
                  <img src="../../assets/images/æ¶ˆæ¯.png" style="height: 30px ;width: 30px;"/>
                  <span class="text-[16px] ml-1">æ¶ˆæ¯</span>
                </div>
              </template>
            </el-statistic>

            <el-statistic :value="50">
              <template #title>
                <div class="flex items-center ">
                 <img src="../../assets/images/æ–‡ä»¶å¤¹.png" style="height: 30px ;width: 30px;"/>
                  <span class="text-[16px] ml-1">å¾…åŠ</span>
                </div>
              </template>
              <template #suffix>/100</template>
            </el-statistic>

            <el-statistic :value="10">
              <template #title>
                <div class="flex items-center ">
                  <img src="../../assets/images/æ¶ˆæ¯.png" style="height: 30px ;width: 30px;"/>
                  <span class="text-[16px] ml-1">é¡¹ç›®</span>
                </div>
              </template>
            </el-statistic>
          </div>
        </el-col>
      </el-row>
    </el-card>

    <!-- æ•°æ®å¡ç‰‡ -->
    <el-row :gutter="10" style="margin-top: 15px">
      <el-col :xs="24" :sm="12" :lg="6">
        <el-card shadow="never">
          <template #header>
            <div class="flex items-center justify-between">
              <span class="text-[var(--el-text-color-secondary)]">è®¿å®¢æ•°</span>
              <el-tag type="success" style="margin-left: 110px;">æ—¥</el-tag>
            </div>
          </template>

          <div class="flex items-center justify-between mt-5">
<!--            <div class="text-lg text-right">-->
<!--             {{data.visitMonthCount}}-->
<!--            </div>-->
            <img src="../../assets/images/å¥½å‹è®¤è¯.png" style="height: 40px ;width: 40px; margin-left: 160px;" />
          </div>

          <div
            class="flex items-center justify-between mt-5 text-sm text-[var(--el-text-color-secondary)]"
          >
            <span> æ€»è®¿å®¢æ•° </span>
            <span> {{data.visitCount}} </span>
          </div>
        </el-card>
      </el-col>

      <!--æ¶ˆæ¯æ•°-->
      <el-col :xs="24" :sm="12" :lg="6">
        <el-card shadow="never">
          <template #header>
            <div class="flex items-center justify-between">
              <span class="text-[var(--el-text-color-secondary)]">æ”¶è—æ•°</span>
              <el-tag type="success" style="margin-left: 110px;">æ—¥</el-tag>
            </div>
          </template>

          <div class="flex items-center justify-between mt-5">
<!--            <div class="text-lg text-right">-->
<!--              {{data.collectionMonthCount}}-->
<!--            </div>-->
             <img src="../../assets/images/æ”¶è—.png" style="height: 40px ;width: 40px; margin-left: 160px;" />
          </div>

          <div
            class="flex items-center justify-between mt-5 text-sm text-[var(--el-text-color-secondary)]"
          >
            <span> æ€»æ”¶è—æ•° </span>
            <span> {{data.collectionCount}} </span>
          </div>
        </el-card>
      </el-col>

      <!--é”€å”®é¢-->
      <el-col :xs="24" :sm="12" :lg="6">
        <el-card shadow="never">
          <template #header>
            <div class="flex items-center justify-between">
              <span class="text-[var(--el-text-color-secondary)]">é”€å”®é¢</span>
              <el-tag style="margin-left: 110px;">æœˆ</el-tag>
            </div>
          </template>

          <div class="flex items-center justify-between mt-5">
<!--            <div class="text-lg text-right">-->
<!--             {{data.salesMonthCount}}-->
<!--            </div>-->
             <img src="../../assets/images/ä½™é¢.png" style="height: 40px ;width: 40px; margin-left: 160px;" />
          </div>

          <div
            class="flex items-center justify-between mt-5 text-sm text-[var(--el-text-color-secondary)]"
          >
            <span> æ€»é”€å”®é¢ </span>
            <span> {{data.salesCount}} </span>
          </div>
        </el-card>
      </el-col>

      <!--è®¢å•é‡-->
      <el-col :xs="24" :sm="12" :lg="6">
        <el-card shadow="never">
          <template #header>
            <div class="flex items-center justify-between">
              <span class="text-[var(--el-text-color-secondary)]">è®¢å•é‡</span>
              <el-tag type="danger" style="margin-left: 110px;">æœˆ</el-tag>
            </div>
          </template>

          <div class="flex items-center justify-between mt-5">
<!--            <div class="text-lg text-right">-->
<!--              {{data.orderMonthCount}}-->
<!--            </div>-->
            <img src="../../assets/images/å•†å“.png" style="height: 40px ;width: 40px; margin-left: 160px;" />
          </div>

          <div
            class="flex items-center justify-between mt-5 text-sm text-[var(--el-text-color-secondary)]"
          >
            <span> æ€»è®¢å•é‡ </span>
            <span> {{data.orderCount}} </span>
          </div>
        </el-card>
      </el-col>
    </el-row>

      <el-row>
          <el-col :span="12">
              <BarChart
                      id="barChart"
                      height="400px"
                      width="100%"
                      class="bg-[var(--el-bg-color-overlay)]"
              />
          </el-col>
          <el-col :span="12">
              <PieChart
                      id="pieChart"
                      height="400px"
                      width="100%"
                      class="bg-[var(--el-bg-color-overlay)]"
              />
          </el-col>
      </el-row>

    <!-- Echarts å›¾è¡¨ -->
<!--    <el-row :gutter="10" style="margin-top: 10px">-->
<!--      <el-col :sm="24" :lg="8" class="mb-2">-->

<!--      </el-col>-->

<!--      <el-col :xs="24" :sm="12" :lg="8" class="mb-2">-->

<!--      </el-col>-->

<!--      <el-col :xs="24" :sm="12" :lg="8" class="mb-2">-->
<!--        <RadarChart-->
<!--          id="radarChart"-->
<!--          height="400px"-->
<!--          width="100%"-->
<!--          class="bg-[var(&#45;&#45;el-bg-color-overlay)]"-->
<!--        />-->
<!--      </el-col>-->
<!--    </el-row>-->
  </div>
</template>

<script setup lang="ts">
import {reactive, ref, defineProps, toRefs, onMounted, onActivated, markRaw} from 'vue'
import BarChart from "@/views/dashboard/components/BarChart.vue";
import PieChart from "@/views/dashboard/components/PieChart.vue";
import RadarChart from "@/views/dashboard/components/RadarChart.vue";
import ApiOrder from '@/api/Shop/api_shoporder.js'
import ApiMenuCollection from '@/api/Menu/api_menucollection.js'

// Data
const data = reactive({
    orderCount: 0,
    orderMonthCount: 0,
    salesCount: 0,
    salesMonthCount: 0,
    collectionCount: 0,
    collectionMonthCount: 0,
    visitCount: 0,
    visitMonthCount: 0,
})

// Mounted
onMounted(() => {
    const params = {

    }
    ApiOrder.selpage4shoporder(params).then(res => {
        console.log(res)
        data.orderCount = res.data.records.length;
        data.orderMonthCount = res.data.records.length;
        for (let i = 0; i < res.data.records.length; i++) {
            data.salesCount += res.data.records[i].price;
            data.salesMonthCount += res.data.records[i].price;
        }
    })

    ApiMenuCollection.selpage4menucollection(params).then(res => {
        console.log(res)
        data.collectionCount = res.data.records.length;
        data.collectionMonthCount = res.data.records.length;
    })

    data.visitCount = 5;
    data.visitMonthCount = 5;

})

// Methods

</script>

<style lang="scss" scoped>
.dashboard-container {
  position: relative;
  padding: 24px;

  .user-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
  }

  .github-corner {
    position: absolute;
    top: 0;
    right: 0;
    z-index: 1;
    border: 0;
  }

  .data-box {
    display: flex;
    justify-content: space-between;
    padding: 20px;
    font-weight: bold;
    color: var(--el-text-color-regular);
    background: var(--el-bg-color-overlay);
    border-color: var(--el-border-color);
    box-shadow: var(--el-box-shadow-dark);
  }

  .svg-icon {
    fill: currentcolor !important;
  }
  .flex {
    display: flex;
    flex-direction: row; /* æ°´å¹³æ–¹å‘æ’åˆ— */
    justify-content: space-around; /* åœ¨å®¹å™¨ä¸­å‡åŒ€åˆ†å¸ƒå­å…ƒç´  */
    align-items: center; /* åœ¨äº¤å‰è½´ä¸Šå±…ä¸­å¯¹é½å­å…ƒç´  */
  }

}
</style>
